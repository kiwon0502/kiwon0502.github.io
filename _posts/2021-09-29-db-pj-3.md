---
title:  "[DB_project] 2.관리자 기능 구현"
excerpt: "클라우드 소싱 데이터 수집 사이트"

categories:
  - Database
tags:
  - [Database, VueJS]

toc: true
toc_sticky: true
 
date: 2021-09-29
last_modified_at: 2021-09-29
---
## 관리자 필수 기능
1. 관리자는 새로운 태스크를 추가할 수 있어야 한다. 
2. 관리자는 태스크 별로 원본 데이터 타입을 추가할 수 있어야 한다. 
3. 관리자는 태스크 별로 참여 대기 중인 제출자를 승인 및 거절할 수 있어야 한다.
4. 관리자는 태스크 별로 현재 제출된 파싱 데이터 시퀀스 파일의 수와 태스크 데이터 테이블의 tuple 수를 확인할 수 있어야 한다.
5. 관리자는 태스크 별로 참여중인 제출자들의 목록을 볼 수 있다. 
6. 관리자는 역할, 나이대, 성별, 참여중인 태스크, ID 를 기준으로 회원들을 검색할 수 있어야 한다.
7. 관리자는 각 제출자 별 참여 태스크 현황을 확인할 수 있고, 각 평자가 별 평가 파싱 데이터 시퀀스 파일의 현황을 확인할 수 있어야 한다.
8. 관리자는 각 태스크 별로 현재까지 태스크 데이터 테이블에 모인 모든 튜플들을 csv 파일로 다운로드 할 수 있어야 한다.

## 기능 구현
0. 폴더 관리
    - 기능별 폴더를 활용하여 파일들을 관리
        - Backend/routes/task.js : TASK관리에 관련된 프론트-백 통신을 담당
        - Backend/routes/member.js : 회원관리에 관련된 프론트-백 통신을 담당
1. 메인 화면
    - 관리자 계정으로 로그인 시 TASK 관리 페이지와 회원 관리 페이지를 선택하여 해당 페이지로 이동
        - AdmMain.vue : 관리자 계정 메인 화면. TASK 선택 시 TASK 관리 화면으로 이동. 회원 관리 선택 시 회원 관리 화면으로 이동
        - Task/TaskMenu.vue : TASK 관리 페이지의 좌측 메뉴
        - Member/Menu.vue : 회원 관리 페이지의 좌측 메뉴
2. Task 통계
    - 현재 생성된 TASK의 이름, TASK의 간략한 설명, 최소업로드 주기, TASK 데이터 테이블 이름과 원본 DATA 타입의 이름이 표를 통해 한 눈에 볼 수 있게 페이지 하나로 표현
    - 각 TASK를 클릭하여 선택하게 되면 해당 TASK의 상세 정보 페이지로 이동
    - TASK의 상세 정보 페이지에서는 이전 페이지의 표에서 보여주었던 TASK 이름, TASK 설명, TASK에 지금까지 제출된 전체 파일의 개수, 기준에 부합하여 통과된 튜플의 수, 원본 DATA 타입 수준의 튜플 수를 상단에서 확인 가능
    - 재 DB에 저장된 튜플들에 대한 정보의 다운로드를 관리자가 희망할 때 생성 버튼을 클릭하여 정보를 담은 CSV 파일을 생성하고 다운로드 버튼을 재차 클릭하여 다운받아 데이터를 확인 가능
    - TASK DATA TABLE의 스키마를 이 화면에서 확인할 수 있고 바로 아래에서 현재 TASK에 설정된 원본 DATA 타입들의 스키마 정보를 확인 가능
    - TASK에 현재 참여 중인 제출자의 명단을 표로 명시
        - ShowInfo.vue : TASK 목록을 보여주는 페이지의 최상위 부모 컴포넌트.
        - TaskInfo.vue : TASK 리스트를 나타내는 컴포넌트.
        - Task.vue : TASK 목록 row의 데이터 형식을 나타내는 컴포넌트. TASK 클릭 시 TASK 상세 정보 페이지로 이동.
        - TaskDetail.vue : TASK 상세 정보 페이지를 나타내는 최상위 부모 컴포넌트.
        - UserView.vue : TASK에 참여하는 제출자 목록을 나타내는 컴포넌트.
        - User.vue : 제출자 목록 row의 데이터 형식을 담은 컴포넌트. 제출자 클릭 시 회원 상세 정보 페이지로 이동.
3. Task 생성
    - TASK 이름, TASK에 대한 간략한 설명, 최소업로드 주기, 제출 파일에 대한 PASS/NON PASS 기준을 text input 형식으로 입력할 수 있게 구현
    - Extra Credit 요소 중의 하나인 TASK DATA 수집 종료를 구현하기 위해 TASK 생성 시 TASK DATA 수집 시작 날짜와 수집 종료 날짜를 설정 가능
    - TASK 데이터 테이블의 스키마를 정의할 시 관리자가 SQL을 사용할 것인지를 결정
    - SQL을 text input 형식으로 입력할 수 있고 이는 string 형태로 Back으로 전달
    - SQL을 사용하지 않는다면 표의 형태로 속성별 이름과 변수 타입을 지정
    - TASK 생성 시 원본 DATA 타입을 한 가지 지정해야 하는데 이를 위해 원본 DATA 타입 이름을 설정할 수 있는 text input 빈칸과 원본 DATA 타입의 속성 이름, 변수 타입과 TASK DATA 테이블 스키마 중 매핑할 정보를 입력할 빈칸을 TABLE 형태로 구현
    - 위의 정보 중 입력되지 않은 정보가 존재하면 TASK 생성 버튼을 누를 때 TASK 생성이 되지 않고 경고 문구가 나오는 이벤트 설정
        - TaskCreate.vue : TASK 생성 페이지의 최상위 부모 컴포넌트.
        - CreateForm.vue : TASK 생성 시 필요한 정보 입력하는 format을 나타내는 컴포넌트.
4. Task 관리
    - 현재 생성된 TASK 목록이 나오고 관리할 TASK를 선택하게 되면 해당 TASK의 관리 페이지로 이동 가능
    - 해당 TASK에 참가를 신청한 제출작의 목록이 ID, 이름, 평가 점수의 형태로 출력
    - 평가 점수를 바탕으로 참가를 승인 여부를 관리자가 정하면 해당 이름을 선택하여 참가 승인 가능
    - TASK의 데이터 파일 PASS 기준은 드래그를 통해 재설정을 할 수 있게 설정
    - 원본 DATA 타입 추가는 TASK 생성 시 사용했던 원본 DATA 타입 생성 형태와 똑같이 구현
        - TaskManage.vue : TASK 관리 페이지의 최상단 부모 컴포넌트.
        - TaskList.vue : 현재 생성된 TASK의 목록을 나타내는 컴포넌트.
        - ShowList.vue : TASK 목록의 row 데이터 정보를 나타내는 컴포넌트. 해당 row 선택 시 해당 TASK 관리 페이지로 이동.
        - ManageView.vue : TASK 신청자 승인, PASS 기준 재설정, 원본 DATA 타입 추가 생성을 화면에 띄우는 컴포넌트.
        - Register.vue/RegisterUser.vue : 해당 TASK에 참가 신청을 한 제출자 목록을 나타내는 컴포넌트.
        - ResetStandard.vue : TASK의 데이터 PASS 기준을 재설정 부분을 담당하는 컴포넌트.
        - AddType.vue : TASK의 원본 DATA 타입을 추가 생성하는 부분을 담당하는 컴포넌트. 
5. 회원 정보 확인
    - 초기 화면에서 현재까지 가입한 전체 회원 리스트를 확인 가능
    - 리스트 초기 화면에서 회원 번호와 회원 이름 확인 가능
    - 리스트에서 한 명을 클릭하게 되면 해당 회원의 상세 정보 페이지로 이동
    - 상세 정보 페이지에서는 회원 ID, 이름, 역할, 성별이 나타나고 제출자일 경우 참가하고 있는 TASK의 간략한 정보 목록이 나오게 되고 평가자일 경우 지금까지 평가한 제출 파일들의 ID, 점수와 PASS 여부가 표로 출력
        - ShowMember.vue : 가입한 회원 리스트를 보여주는 페이지의 최상위 부모 컴포넌트.
        - MemberInfo.vue/Member.vue : 회원ID, 회원 이름으로 구성된 회원 리스트를 보여주기 위한 컴포넌트. 특정 회원을 선택 시 해당 회원 상세 정보 페이지로 이동.
        - UserInfo.vue : 회원 상세 정보 페이지를 담당하는 컴포넌트. 제출자일 경우 불러와야 하는 참여 TASK 정보를 담당하는 TaskInfo 컴포넌트와 평가자일 경우 불러와야 하는 평가한 FILE 정보를 담당하는 FileInfo 컴포넌트를 포함.
        - UserTask.vue/Task.vue : 제출자가 참여 중인 TASK의 정보를 보여주는 컴포넌트. 평가자일 경우 참여 중인 TASK가 없으므로 “평가자입니다” 문구를 대신 출력.
        - EvalFile.vue/File.vue : 평가자가 평가한 FILE 정보를 보여주는 컴포넌트. 제출자일 경우 평가한 FILE이 없으므로 “제출자입니다” 문구를 대신 출력.
6. 회원 검색
    - “TASK 이름, 회원 번호, 성별, 나이, 역할”을 검색 기준으로 활용
    - 검색 시 해당 조건에 부합하는 회원 리스트가 하단에 출력
    - 하단 리스트에서 회원을 클릭할 시 위와 마찬가지로 해당 회원 상세 정보 페이지로 이동
        - Search.vue : 회원 검색 페이지를 나타내는 컴포넌트. 사용자가 입력하는 검색어들을 통해 DB에 질의한 후 부합하는 회원 목록을 받아 MemberInfo 컴포넌트로 전달. 이는 위에서 회원 목록을 보여주는 컴포넌트와 동일.

## 코드 Reference
[Github reference](https://github.com/raneelulu/DB_2020)